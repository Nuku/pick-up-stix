{"version":3,"sources":["module/pick-up-stix/settings.ts"],"names":[],"mappings":"AAAA,MAAM,CAAN,IAAY,mBAGX;AAHD,WAAY,mBAAmB;IAC9B,4EAAqD,CAAA;IACrD,6EAAsD,CAAA;AACvD,CAAC,EAHW,mBAAmB,KAAnB,mBAAmB,QAG9B;AAED,MAAM,CAAC,MAAM,gBAAgB,GAAG;IAC/B,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;IAC/C,2CAA2C;IAC3C,MAAM,QAAQ,GAAG,CAAC,GAAG,EAAE,EAAE;QACxB,OAAO,GAAG,CAAC;IACZ,CAAC,CAAA;IACD,MAAM,CAAC,cAAc,CAAC,QAAQ,EAAE,MAAM,EAAE,EAAC,KAAK,EAAE,6BAA6B,EAAC,CAAC,CAAC;IAEhF,2CAA2C;IAC3C,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,cAAc,EAAE,mBAAmB,CAAC,aAAa,EAAE;QACzE,IAAI,EAAE,gCAAgC;QACtC,IAAI,EAAE,kEAAkE;QACxE,KAAK,EAAE,OAAO;QACd,MAAM,EAAE,IAAI;QACZ,IAAI,EAAE,QAAQ;QACd,OAAO,EAAE,8CAA8C;KACvD,CAAC,CAAC;IACH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,cAAc,EAAE,mBAAmB,CAAC,cAAc,EAAE;QAC1E,IAAI,EAAE,gCAAgC;QACtC,IAAI,EAAE,kEAAkE;QACxE,KAAK,EAAE,OAAO;QACd,MAAM,EAAE,IAAI;QACZ,IAAI,EAAE,QAAQ;QACd,OAAO,EAAE,8CAA8C;KACvD,CAAC,CAAC;AACJ,CAAC,CAAA;AAED,MAAM,UAAU,WAAW,CAAC,IAAI;IAC/B,CAAC,CAAC,IAAI,CAAC;SACL,IAAI,CAAC,gDAAgD,CAAC;SACtD,IAAI,CAAC;QACL,MAAM,WAAW,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACvD,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAEzB,IAAI,MAAM,GAAG,IAAI,UAAU,CAAC;YAC3B,IAAI,EAAE,OAAO;YACb,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,cAAc,EAAE,WAAW,CAAC;YACvD,KAAK,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SACjB,CAAC,CAAC;QAEH,IAAI,YAAY,GAAG,CAAC,CAAC,gHAAgH,CAAC,CAAC;QACvI,YAAY,CAAC,EAAE,CAAC,OAAO,EAAE;YACxB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;IACvC,CAAC,CAAC,CAAA;AACJ,CAAC","file":"../../../src/module/pick-up-stix/settings.js","sourcesContent":["export enum DefaultSetttingKeys {\r\n\topenImagePath = 'default-container-opened-image-path',\r\n\tcloseImagePath = 'default-container-closed-image-path'\r\n}\r\n\r\nexport const registerSettings = function() {\r\n\tconsole.log(`pick-up-stix | registerSettings`);\r\n\t// Register any custom module settings here\r\n\tconst typeFunc = (val) => {\r\n\t\treturn val;\r\n\t}\r\n\tObject.defineProperty(typeFunc, 'name', {value: 'pick-up-stix-settings-image'});\r\n\r\n\t// Register any custom module settings here\r\n\tgame.settings.register('pick-up-stix', DefaultSetttingKeys.openImagePath, {\r\n\t\tname: 'Default Container Opened Image',\r\n\t\thint: 'Sets the path for the default image to use for opened containers',\r\n\t\tscope: 'world',\r\n\t\tconfig: true,\r\n\t\ttype: typeFunc,\r\n\t\tdefault: 'modules/pick-up-stix/assets/chest-opened.png'\r\n\t});\r\n\tgame.settings.register('pick-up-stix', DefaultSetttingKeys.closeImagePath, {\r\n\t\tname: 'Default Container Closed Image',\r\n\t\thint: 'Sets the path for the default image to use for closed containers',\r\n\t\tscope: 'world',\r\n\t\tconfig: true,\r\n\t\ttype: typeFunc,\r\n\t\tdefault: 'modules/pick-up-stix/assets/chest-closed.png'\r\n\t});\r\n}\r\n\r\nexport function processHtml(html) {\r\n\t$(html)\r\n\t\t.find('input[data-dtype=\"pick-up-stix-settings-image\"')\r\n\t\t.each(function() {\r\n\t\t\tconst settingName = $(this).attr('name').split('.')[1];\r\n\t\t\tconsole.log(settingName);\r\n\r\n\t\t\tlet picker = new FilePicker({\r\n\t\t\t\ttype: 'Image',\r\n\t\t\t\tcurrent: game.settings.get('pick-up-stix', settingName),\r\n\t\t\t\tfield: $(this)[0]\r\n\t\t\t});\r\n\r\n\t\t\tlet pickerButton = $('<button type=\"button\" class=\"file-picker\" title=\"Pick image\"><i class=\"fas fa-file-import fa-fw\"></i></button>');\r\n\t\t\tpickerButton.on(\"click\", function () {\r\n\t\t\t\tpicker.render(true);\r\n\t\t\t});\r\n\t\t\t$(this).parent().append(pickerButton);\r\n\t\t})\r\n}\r\n"]}