{"version":3,"sources":["module/pick-up-stix/choose-token-application.ts"],"names":[],"mappings":"AAAA,MAAM,CAAC,OAAO,OAAO,sBAAuB,SAAQ,WAAW;IAmB9D,YAAY,MAAe;QACxB,KAAK,CAAC,EAAE,CAAC,CAAC;QACV,OAAO,CAAC,GAAG,CAAC,yCAAyC,IAAI,CAAC,KAAK,kCAAkC,CAAC,CAAC;QACnG,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,cAAc,EAAE,cAAc,CAAC,KAAK,SAAS,CAAC,CAAA;QAC1F,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC5B,CAAC;IAvBF,MAAM,KAAK,cAAc;QACxB,OAAO,WAAW,CAAC,KAAK,CAAC,cAAc,EAAE;YACxC,aAAa,EAAE,IAAI;YACnB,aAAa,EAAE,IAAI;YACnB,EAAE,EAAE,2BAA2B;YAC5B,QAAQ,EAAE,sEAAsE;YAChF,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACd,WAAW,EAAE,KAAK;YAClB,KAAK,EAAE,cAAc;YACrB,SAAS,EAAE,IAAI;YACf,OAAO,EAAE,CAAC,cAAc,EAAE,cAAc,CAAC;SACzC,CAAC,CAAC;IACJ,CAAC;IAYA,iBAAiB,CAAC,IAAI;QACpB,OAAO,CAAC,GAAG,CAAC,yCAAyC,IAAI,CAAC,KAAK,sBAAsB,CAAC,CAAC;QACvF,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE;YAC/C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACvF,OAAO,CAAC,GAAG,CAAC,yCAAyC,IAAI,CAAC,KAAK,aAAa,IAAI,CAAC,cAAc,CAAC,EAAE,WAAW,CAAC,CAAC;YAC/G,IAAI,CAAC,KAAK,EAAE,CAAC;QACf,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO;QACL,OAAO,CAAC,GAAG,CAAC,yCAAyC,IAAI,CAAC,KAAK,YAAY,CAAC,CAAC;QAC7E,MAAM,CAAC,GAAG;YACR,aAAa,EAAE,IAAI,CAAC,cAAc;YAClC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;SAC/C,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACf,OAAO,CAAC,CAAC;IACX,CAAC;CACF","file":"../../../src/module/pick-up-stix/choose-token-application.js","sourcesContent":["export default class ChooseTokenApplication extends Application {\r\n\tstatic get defaultOptions(): ApplicationOptions {\r\n\t\treturn mergeObject(super.defaultOptions, {\r\n\t\t\tcloseOnSubmit: true,\r\n\t\t\tsubmitOnClose: true,\r\n\t\t\tid: \"pick-up-stix-choose-token\",\r\n      template: \"modules/pick-up-stix/module/pick-up-stix/templates/choose-token.html\",\r\n      width: 450,\r\n      height: 250,\r\n\t\t\tminimizable: false,\r\n\t\t\ttitle: `Choose Token`,\r\n\t\t\tresizable: true,\r\n\t\t\tclasses: ['pick-up-stix', 'choose-token']\r\n\t\t});\r\n\t}\r\n\r\n  private _tokens: Token[];\r\n  private _selectedToken: Token;\r\n\r\n\tconstructor(tokens: Token[]) {\r\n    super({});\r\n    console.log(`pick-up-stix | ChooseTokenApplication ${this.appId} | constructor called with args:`);\r\n    this._tokens = tokens.filter(t => t.getFlag('pick-up-stix', 'pick-up-stix') === undefined)\r\n    console.log(this._tokens);\r\n  }\r\n\r\n  activateListeners(html) {\r\n    console.log(`pick-up-stix | ChooseTokenApplication ${this.appId} | activateListeners`);\r\n    super.activateListeners(html);\r\n    $(html).find('.token-selection').on('click', e => {\r\n      this._selectedToken = this._tokens.find(t => t.id === e.currentTarget.dataset.tokenId);\r\n      console.log(`pick-up-stix | ChooseTokenApplication ${this.appId} | token '${this._selectedToken.id}' clicked`);\r\n      this.close();\r\n    });\r\n  }\r\n\r\n  getData(): any {\r\n    console.log(`pick-up-stix | ChooseTokenApplication ${this.appId} | getData`);\r\n    const d = {\r\n      selectedToken: this._selectedToken,\r\n      tokens: this._tokens.map(t => ({ ...t.data }))\r\n    };\r\n    console.log(d);\r\n    return d;\r\n  }\r\n}\r\n"]}